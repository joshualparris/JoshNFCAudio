<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>NFC Audio Player — Browser Yoto</title>
  <meta name="description" content="Turn an NFC card into a Yoto-like audio player — PWA, offline, Web NFC" />
  <link rel="manifest" href="/manifest.json">
  <link rel="icon" href="/icons/icon-192.svg">
  <link rel="stylesheet" href="styles.css">
  <meta name="theme-color" content="#0f172a" />
</head>
<body>
  <main id="app" class="app">
    <header class="topbar">
      <div class="brand">NFC Audio Player</div>
      <div class="controls">
        <button id="darkToggle" class="btn small">Dark</button>
        <button id="scanBtn" class="btn primary">Start NFC Scan</button>
      </div>
    </header>

    <section class="panel" id="uploadPanel">
      <h2>Upload audio files</h2>
      <div id="dropZone" class="drop">Drop files here or <button id="filePickBtn" class="btn link">Choose files</button></div>
      <input id="fileInput" type="file" accept="audio/*" multiple hidden>
      <div id="tracksList" class="list"></div>
    </section>

    <section class="panel" id="cardsPanel">
      <h2>Cards (Playlists)</h2>
      <div class="row">
        <input id="cardName" placeholder="New card name" />
        <button id="createCardBtn" class="btn">Create Card</button>
      </div>
      <div id="cardsList" class="cards"></div>
    </section>

    <section class="panel" id="writerPanel">
      <h2>Card Writing Mode</h2>
      <div class="row">
        <select id="writeCardSelect"></select>
        <button id="startWriteBtn" class="btn primary">Write to Card</button>
      </div>
      <div id="writeStatus" class="status"></div>
    </section>

    <section class="panel" id="playerPanel">
      <h2>Player</h2>
      <div id="playerCardInfo" class="player-card">
        <img id="playerCover" src="" alt="cover" />
        <div class="player-meta">
          <div id="playerTitle" class="player-title">No card tapped</div>
          <div id="playerTrack" class="player-track">—</div>
        </div>
      </div>
      <div class="player-controls">
        <button id="prevBtn" class="btn">⏮</button>
        <button id="playBtn" class="btn big">▶️</button>
        <button id="nextBtn" class="btn">⏭</button>
      </div>
      <input id="seek" type="range" min="0" max="100" value="0" class="seek">
      <div class="row">
        <label>Volume</label>
        <input id="volume" type="range" min="0" max="1" step="0.01" value="0.7">
      </div>
      <div class="row small">
        <label><input id="keepPlaying" type="checkbox"> Keep playing if card removed</label>
      </div>
    </section>

    <audio id="audio" preload="metadata"></audio>
  </main>

  <script src="db.js"></script>
  <script src="app.js"></script>
</body>
</html>
